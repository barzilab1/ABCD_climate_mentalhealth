---
title: "Download climate data from National Centers for Environmental Information"
author: "Kate Tran"
date: "9/28/2022"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

```{r}
library(readr)
library(readxl)
library(tidyr)
library(purrr)
library(RCurl)
library(dplyr)
library(stringr)
library(janitor)
library(plyr)

source("../../utility_fun.R")
```

```{r}
# get stations (see the Methods on how to get those stations)
stations <- c("USC00085667", "USW00053908", "USC00356749", "USC00046646", "USC00049152",
              "USC00050848", "USW00093784", "USC00200228", "USC00421446", "USC00475474", "USC00237452")
```

```{r}
# download normal average data
# data_normal_avg <- download_normal_climate(station = stations, mainURL = "https://www.ncei.noaa.gov/data/normals-monthly/1991-2020/access/")

# download monthly temperature data
data_monthly <- download_normal_climate(station = stations, mainURL = "https://www.ncei.noaa.gov/data/global-summary-of-the-month/access/")
```

```{r}
# write_csv(data_normal_avg, "../../data/data_normal_avg.csv")
write_csv(data_monthly, "../../data/data_monthly.csv")

# write_rds(data_normal_avg, "../../data/data_normal_avg.rds")
# write_rds(data_monthly, "../../data/data_monthly.rds")
```
















